def canUnlockAll(boxes):
    # Start with only the first box unlocked
    unlocked_boxes = [True] + [False] * (len(boxes) - 1)

    # Keep track of the boxes that have been seen
    seen_boxes = set([0])

    # Create a list of boxes to visit
    boxes_to_visit = list(boxes[0])

    # Iterate over the boxes to visit and unlock them
    while boxes_to_visit:
        box_index = boxes_to_visit.pop(0)
        if not unlocked_boxes[box_index]:
            unlocked_boxes[box_index] = True
            seen_boxes.add(box_index)
            boxes_to_visit.extend(boxes[box_index])

    # Check if all the boxes are unlocked
    return len(seen_boxes) == len(boxes)

